(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(20),c=n.n(r),i=(n(29),n(2)),l={palette:{selectedIndex:0,colors:["#1a1c2c","#5d275d","#b13e53","#ef7d57","#ffcd75","#a7f070","#38b764","#257179","#29366f","#3b5dc9","#41a6f6","#73eff7","#f4f4f4","#94b0c2","#566c86","#333c57"],selectColor:Object(i.b)(function(e,t){e.selectedIndex=t}),selectedColor:Object(i.c)(function(e){return e.colors[e.selectedIndex]})},tool:{selected:"pencil",brushSize:1,increaseBrushSize:Object(i.b)(function(e,t){e.brushSize=Math.max(1,e.brushSize+t)}),decreaseBrushSize:Object(i.b)(function(e,t){e.brushSize=Math.max(1,e.brushSize-t)})},canvas:{width:20,height:20,zoom:30,maxZoom:200,minZoom:1,increaseZoom:Object(i.b)(function(e,t){e.zoom=Math.min(e.maxZoom,e.zoom+t)}),decreaseZoom:Object(i.b)(function(e,t){e.zoom=Math.max(e.minZoom,e.zoom-t)})}},s=Object(i.d)(l),u=function(e){var t=e.top,n=e.left,a=e.middle,r=e.right;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",color:"#ADADAD"}},o.a.createElement("div",{style:{flex:0,height:48,zIndex:100}},o.a.createElement("div",{style:{backgroundColor:"#333333",width:"100%",height:"100%"}},t)),o.a.createElement("div",{style:{flex:1,display:"flex"}},o.a.createElement("div",{style:{flex:0,maxWidth:64,minWidth:64,zIndex:100}},o.a.createElement("div",{style:{backgroundColor:"#2A2D2E",width:"100%",height:"100%",boxShadow:"rgba(0, 0, 0, 0.4) 0px 5px 10px -10px inset"}},n)),o.a.createElement("div",{style:{flex:1}}),o.a.createElement("div",{style:{flex:0,maxWidth:48,minWidth:48,zIndex:100}},o.a.createElement("div",{style:{backgroundColor:"#2A2D2E",width:"100%",height:"100%",boxShadow:"rgba(0, 0, 0, 0.4) 0px 5px 10px -10px inset"}},r)))),o.a.createElement("div",{style:{bottom:"0px",left:"64px",right:"48px",top:"48px",position:"fixed",display:"block"}},o.a.createElement("div",{style:{backgroundColor:"#1E1E1E",width:"100%",height:"100%",boxShadow:"inset 0px 0px 5px 0px rgba(0, 0, 0, 0.4)"}},a)))},f=(n(32),function(){return o.a.createElement("div",{style:{display:"flex",height:"100%",alignItems:"center"}},o.a.createElement("h2",{style:{fontSize:"1.5rem",margin:0}},"Pixely"))}),h=function(){return o.a.createElement("div",{style:{height:"100%",display:"inline-flex",alignItems:"center"}},o.a.createElement("div",{className:"Menu-items"},o.a.createElement(f,null)),o.a.createElement("button",{className:"Menu-items Menu-button"},"File"),o.a.createElement("button",{className:"Menu-items Menu-button"},"Edit"),o.a.createElement("button",{className:"Menu-items Menu-button"},"Help"))},m=(n(33),function(){return o.a.createElement("svg",{viewBox:"0 0 18.713 18.713",width:"32",height:"32"},o.a.createElement("path",{d:"M13.367,6.434L8.872,1.895l-0.65-0.672L6.687,2.731c-2.624-0.375-4.51,0.59-5.178,1.777   C0.698,5.949,1.527,7.522,1.553,7.57c0.693,1.385,1.689,2.216,2.961,2.473c0.279,0.055,0.56,0.08,0.84,0.08   c1.322,0,2.644-0.561,3.649-1.135c0.271,0.188,0.601,0.299,0.954,0.299c0.93,0,1.686-0.759,1.686-1.691s-0.756-1.69-1.686-1.69   s-1.686,0.758-1.686,1.69c0,0.093,0.013,0.184,0.027,0.274C7.286,8.445,5.951,8.986,4.77,8.748C3.905,8.573,3.237,7.995,2.719,6.96   C2.714,6.95,2.203,5.957,2.654,5.157c0.38-0.676,1.371-1.111,2.883-1.275L5.302,4.119L3.13,6.299   c0.023,0.053,0.04,0.085,0.041,0.087c0.209,0.418,0.444,0.758,0.706,1.03l3.932-3.943c0.187-0.187,0.435-0.29,0.698-0.29   s0.513,0.103,0.698,0.29l4.771,4.787c0.385,0.385,0.385,1.014,0,1.399L7.774,15.88c-0.372,0.373-1.023,0.373-1.396,0l-4.772-4.787   c-0.187-0.186-0.289-0.434-0.289-0.699c0-0.264,0.102-0.514,0.289-0.7l0.515-0.518C1.828,8.874,1.568,8.512,1.335,8.098   l-0.66,0.663C0.24,9.197,0,9.777,0,10.394c0,0.617,0.24,1.197,0.675,1.633l4.772,4.787c0.435,0.436,1.012,0.676,1.628,0.676   c0.614,0,1.193-0.24,1.628-0.676l6.201-6.221L16.205,9.3l-0.361-0.365c0.683-0.373,0.987,2.744,0.987,2.744s0.954,7.439,1.802,0   C19.443,4.56,13.854,6.272,13.367,6.434z",fill:"#fff"}))}),d=function(){return o.a.createElement(m,null)},b=function(){return o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 1792 1792"},o.a.createElement("path",{d:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",fill:"#fff"}))},v=function(){return o.a.createElement(b,null)},g=function(){return o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 1792 1792"},o.a.createElement("path",{d:"M1698 94q94 94 94 226.5t-94 225.5l-225 223 104 104q10 10 10 23t-10 23l-210 210q-10 10-23 10t-23-10l-105-105-603 603q-37 37-90 37h-203l-256 128-64-64 128-256v-203q0-53 37-90l603-603-105-105q-10-10-10-23t10-23l210-210q10-10 23-10t23 10l104 104 223-225q93-94 225.5-94t226.5 94zm-1186 1378l576-576-192-192-576 576v192h192z",fill:"#fff"}))},x=function(){return o.a.createElement(g,null)},p=function(){return o.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 1792 1792"},o.a.createElement("path",{d:"M832 1408l336-384h-768l-336 384h768zm1013-1077q15 34 9.5 71.5t-30.5 65.5l-896 1024q-38 44-96 44h-768q-38 0-69.5-20.5t-47.5-54.5q-15-34-9.5-71.5t30.5-65.5l896-1024q38-44 96-44h768q38 0 69.5 20.5t47.5 54.5z",fill:"#fff"}))},E=function(){return o.a.createElement(p,null)},w=function(){return o.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},o.a.createElement("button",{className:"Tools-items Tools-button"},o.a.createElement(v,null)),o.a.createElement("button",{className:"Tools-items Tools-button"},o.a.createElement(E,null)),o.a.createElement("button",{className:"Tools-items Tools-button"},o.a.createElement(x,null)),o.a.createElement("button",{className:"Tools-items Tools-button"},o.a.createElement(d,null)))},y=(n(34),function(){return o.a.createElement("svg",{width:"30",height:"30",viewBox:"0 0 1792 1792"},o.a.createElement("path",{d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z",fill:"#fff"}))}),j=function(){var e=Object(i.f)(function(e){return e.palette.colors}),t=Object(i.e)(function(e){return e.palette.selectColor});return o.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},e.map(function(e,n){return o.a.createElement("button",{key:n,onClick:(a=n,function(){t(a)}),className:"ColorPalette-items ColorPalette-button",style:{backgroundColor:e,flex:1}});var a}),o.a.createElement("button",{className:"ColorPalette-items ColorPalette-button",style:{minHeight:48,maxHeight:48,flex:0}},o.a.createElement(y,null)))},O=n(15),C=n(4),z=function(e,t){var n=t.x,a=t.y,o=t.color,r=e.ctx,c=e.brushSize;r.fillStyle=o,r.fillRect(n,a,c,c)},S=function(e){var t=e.min,n=e.max;return function(e){return Math.min(Math.max(e,t),n)}},M=(n(35),n(16)),q=o.a.memo(function(e){var t=e.width,n=e.height,a=e.animatedStyleProps,r=e.canvasRefCallback,c=e.bindGesture,i=e.style,l=e.className,s=c?c():{};return o.a.createElement(M.a.canvas,Object.assign({},s,{ref:r,width:t,height:n,className:"Canvas-pixelated "+l,style:Object(O.a)({},i,a)}))}),k=n(23),N={transparentGridSize:2,transparentFirstColor:"#B4AEB7",transparentSecondColor:"#CCC8CE",animatedStyleProps:{}},P=function(e){return e},R=function(e){var t=P(e),n=t.transparentGridSize,r=t.transparentFirstColor,c=t.transparentSecondColor,l=t.animatedStyleProps,s=Object(i.f)(function(e){return e.palette.selectedColor}),u=Object(i.f)(function(e){return e.tool.brushSize}),f=Object(i.f)(function(e){return e.canvas.zoom}),h=Object(i.f)(function(e){return e.canvas.width}),m=Object(i.f)(function(e){return e.canvas.height}),d=function(e){return Object.freeze({ctx:(e||g).current.getContext("2d"),width:h,height:m,brushSize:u})};Object(a.useEffect)(function(){var e=d();e.ctx.imageSmoothingEnabled=!0,function(e){var t=e.ctx,n=e.width,a=e.height;t.clearRect(0,0,n,a)}(e);var t=d(w);t.ctx.imageSmoothingEnabled=!0,function(e,t){for(var n=t.squareSize,a=t.firstColor,o=t.secondColor,r=e.width,c=e.height,i=Math.ceil(r/n),l=a,s=0;s<c;s+=n){for(var u=0;u<r;u+=n)z(Object(O.a)({},e,{brushSize:n}),{x:u,y:s,color:l}),l=l===a?o:a;i%2===0&&(l=l===a?o:a)}}(t,{squareSize:n,firstColor:r,secondColor:c})},[]);var b=B(),v=Object(C.a)(b,2),g=v[0],x=v[1],p=B(),E=Object(C.a)(p,2),w=E[0],y=E[1],j=Object(k.a)({onDrag:function(e){var t=Object(C.a)(e.previous,2),n=t[0],a=t[1],o=Object(C.a)(e.xy,2),r=o[0],c=o[1],i=g.current.getBoundingClientRect(),l=Math.floor((n-i.left)/f),u=Math.floor((a-i.top)/f),h=Math.floor((r-i.left)/f),m=Math.floor((c-i.top)/f);(function(e,t){var n=e.width,a=e.height,o=t.x,r=t.y;return!(o<0||o>=n||r<0||r>=a)})(d(),{x:l,y:u})&&function(e,t){var n=t.x0,a=t.y0,o=t.x1,r=t.y1,c=t.color,i=e.width,l=e.height,s=S({min:0,max:i-1}),u=S({min:0,max:l-1});n=s(n),a=u(a),o=s(o),r=u(r);for(var f=Math.abs(o-n),h=Math.abs(r-a),m=n<o?1:-1,d=a<r?1:-1,b=f-h;z(e,{x:n,y:a,color:c}),n!==o||a!==r;){var v=2*b;v>-h&&(b-=h,n+=m),v<f&&(b+=f,a+=d)}}(d(),{x0:l,y0:u,x1:h,y1:m,color:s})}});return o.a.createElement(o.a.Fragment,null,o.a.createElement(q,{canvasRefCallback:y,width:h,height:m,animatedStyleProps:l,className:"Canvas-background"}),o.a.createElement(q,{canvasRefCallback:x,width:h,height:m,bindGesture:j,animatedStyleProps:l,className:"Canvas-main"}))};R.defaultProps=N;var B=function(){var e=Object(a.useRef)(),t=Object(a.useCallback)(function(t){t&&(e.current=t)},[]);return[e,t]},L=function(){var e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).liveMeasure,t=void 0===e||e,n=Object(a.useState)(),o=Object(C.a)(n,2),r=o[0],c=o[1],i=Object(a.useState)(),l=Object(C.a)(i,2),s=l[0],u=l[1],f=Object(a.useCallback)(function(e){e&&u(e)},[]);return Object(a.useLayoutEffect)(function(){if(s){var e=function(){window.requestAnimationFrame(function(){var e=s.getBoundingClientRect();c(e)})};if(e(),t)return window.addEventListener("resize",e),window.addEventListener("scroll",e),function(){window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}}},[s,t]),[f,r,s]}(),t=Object(C.a)(e,2),n=t[0],r=t[1],c=Object(i.e)(function(e){return e.canvas.increaseZoom}),l=Object(i.e)(function(e){return e.canvas.decreaseZoom}),s=Object(i.f)(function(e){return e.canvas.zoom}),u=Object(i.f)(function(e){return e.canvas.width}),f=Object(i.f)(function(e){return e.canvas.height}),h=Object(a.useState)({x:0,y:0}),m=Object(C.a)(h,2),d=m[0],b=m[1],v=W({width:u,height:f,zoom:s,parentDomRect:r,wheelXy:d});return o.a.createElement("div",{ref:n,onWheel:function(e){var t=e.deltaY;t<0?c(-t/30):l(t/30),b({x:e.clientX,y:e.clientY})},style:{width:"100%",height:"100%"}},o.a.createElement(R,{animatedStyleProps:v}))},A=function(e){return e%2===0?e:e+1},W=function(e){var t=e.width,n=e.height,o=e.zoom,r=e.parentDomRect,c=e.wheelXy,i=Object(M.b)(function(){return{width:o*t,height:o*n}}),l=Object(C.a)(i,2),s=l[0],u=l[1];Object(a.useEffect)(function(){u({width:o*t,height:o*n})},[t,n,o,u]);var f=D(o),h=Object(M.b)(function(){return{left:0,top:0}}),m=Object(C.a)(h,2),d=m[0],b=m[1],v=Object(a.useState)({left:0,top:0}),g=Object(C.a)(v,2),x=g[0],p=g[1];Object(a.useEffect)(function(){b(x)},[x,b]);var E=Object(a.useState)(!1),w=Object(C.a)(E,2),y=w[0],j=w[1];return Object(a.useEffect)(function(){y||r&&(j(!0),p({left:A(Math.floor((r.width-t*o)/2)),top:A(Math.floor((r.height-n*o)/2))}))},[t,n,o,y,r]),Object(a.useEffect)(function(){if(y&&0!==x.left){var e=r?{x:c.x-r.x,y:c.y-r.y}:{x:0,y:0},t=(e.x-x.left)/f*(o-f),n=(e.y-x.top)/f*(o-f);(Math.abs(t)>2||Math.abs(n)>2)&&p({left:A(Math.floor(x.left-t)),top:A(Math.floor(x.top-n))})}},[t,n,f,x,o,y,r,c.x,c.y]),Object(O.a)({},s,d)},D=function(e){var t=Object(a.useRef)(e);return Object(a.useEffect)(function(){t.current=e},[e]),t.current},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function T(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(function(){return o.a.createElement(i.a,{store:s},o.a.createElement(u,{top:o.a.createElement(h,null),left:o.a.createElement(w,null),middle:o.a.createElement(L,null),right:o.a.createElement(j,null)}))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pixely",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/pixely","/service-worker.js");I?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):T(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):T(t,e)})}}()}},[[24,1,2]]]);
//# sourceMappingURL=main.1276f110.chunk.js.map