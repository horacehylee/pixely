{"version":3,"sources":["store/index.ts","layout/Layout.tsx","layout/useDimensions.ts","components/menu/Logo.tsx","components/menu/Menu.tsx","components/tool/FillTool.tsx","components/tool/PencilTool.tsx","components/tool/EyeDropperTool.tsx","components/tool/EraserTool.tsx","components/tool/Tools.tsx","components/color-palette/ColorPalette.tsx","components/pixel-canvas/canvas-fns.ts","components/pixel-canvas/PureCanvas.tsx","components/pixel-canvas/PixelCanvas.tsx","serviceWorker.ts","index.tsx","app/App.tsx"],"names":["storeModel","palette","selectedIndex","colors","selectColor","action","state","index","selectedColor","computed","tool","selected","brushSize","increaseBrushSize","payload","Math","max","decreaseBrushSize","canvas","width","height","zoom","increaseZoom","min","decreaseZoom","store","createStore","Layout","_ref","top","left","middle","right","_useDimensions","_ref$liveMeasure","arguments","length","undefined","liveMeasure","_useState","useState","_useState2","Object","slicedToArray","dimensions","setDimensions","_useState3","_useState4","node","setNode","ref","useCallback","useLayoutEffect","measure","window","requestAnimationFrame","rect","getBoundingClientRect","x","y","bottom","getDimensionObject","addEventListener","removeEventListener","useDimensions","_useDimensions2","dimension","console","log","react_default","a","createElement","Fragment","style","display","flexDirection","color","flex","backgroundColor","maxWidth","minWidth","boxShadow","position","Logo","alignItems","fontSize","margin","Menu","className","Logo_Logo","Icon","viewBox","d","fill","FillTool","FillTool_Icon","PencilTool","PencilTool_Icon","EyeDropperTool","EyeDropperTool_Icon","EraserTool","EraserTool_Icon","Tools","PencilTool_PencilTool","EraserTool_EraserTool","EyeDropperTool_EyeDropperTool","FillTool_FillTool","AddIcon","ColorPalette","useStoreState","useStoreActions","actions","map","i","key","onClick","minHeight","maxHeight","ColorPalette_AddIcon","withinBound","_ref2","_ref3","clamp","_ref6","value","PureCanvas","React","memo","animatedProps","canvasRefCallback","bindGesture","web","assign","PixelCanvas","getCanvasContext","freeze","ctx","canvasRef","current","getContext","useEffect","canvasContext","imageSmoothingEnabled","fillStyle","fillRect","clear","useRef","useGesture","onDrag","_state$previous","previous","x0","y0","_state$xy","xy","x1","y1","rectX0","floor","offsetLeft","scrollLeft","rectY0","offsetTop","scrollTop","rectX1","rectY1","_ref5","xClamp","yClamp","dx","abs","dy","sx","sy","err","e2","line","_useSpring","useSpring","_useSpring2","setAnimatedProps","Boolean","location","hostname","match","ReactDOM","render","easy_peasy_esm","Layout_Layout","Menu_Menu","Tools_Tools","PixelCanvas_PixelCanvas","ColorPalette_ColorPalette","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.90a5f635.chunk.js","sourcesContent":["import { createStore, Action, action, Computed, computed } from \"easy-peasy\";\n\ninterface PaletteModel {\n  selectedIndex: number;\n  colors: string[];\n\n  selectedColor: Computed<PaletteModel, string>;\n  selectColor: Action<PaletteModel, number>;\n}\nconst defaultPaletteModel: PaletteModel = {\n  selectedIndex: 0,\n  colors: [\n    \"#1a1c2c\",\n    \"#5d275d\",\n    \"#b13e53\",\n    \"#ef7d57\",\n    \"#ffcd75\",\n    \"#a7f070\",\n    \"#38b764\",\n    \"#257179\",\n    \"#29366f\",\n    \"#3b5dc9\",\n    \"#41a6f6\",\n    \"#73eff7\",\n    \"#f4f4f4\",\n    \"#94b0c2\",\n    \"#566c86\",\n    \"#333c57\"\n  ],\n  selectColor: action((state, index) => {\n    state.selectedIndex = index;\n  }),\n  selectedColor: computed(state => state.colors[state.selectedIndex])\n};\n\ntype ToolType = \"pencil\" | \"eraser\" | \"fill\" | \"pan\" | \"eyedropper\";\ninterface ToolModel {\n  selected: ToolType;\n  brushSize: number;\n\n  increaseBrushSize: Action<ToolModel, number>;\n  decreaseBrushSize: Action<ToolModel, number>;\n}\nconst defaultToolModel: ToolModel = {\n  selected: \"pencil\",\n  brushSize: 1,\n  increaseBrushSize: action((state, payload) => {\n    state.brushSize = Math.max(1, state.brushSize + payload);\n  }),\n  decreaseBrushSize: action((state, payload) => {\n    state.brushSize = Math.max(1, state.brushSize - payload);\n  })\n};\n\ninterface CanvasModel {\n  width: number;\n  height: number;\n  zoom: number;\n\n  increaseZoom: Action<CanvasModel, number>;\n  decreaseZoom: Action<CanvasModel, number>;\n}\nconst defaultCanvasModel: CanvasModel = {\n  width: 20,\n  height: 20,\n  zoom: 30,\n  increaseZoom: action((state, payload) => {\n    state.zoom = Math.min(100, state.zoom + payload);\n  }),\n  decreaseZoom: action((state, payload) => {\n    if (state.zoom - payload <= 0) {\n      return state;\n    }\n    state.zoom -= payload;\n  })\n};\n\nexport type StoreModel = {\n  palette: PaletteModel;\n  tool: ToolModel;\n  canvas: CanvasModel;\n};\n\nexport const storeModel: StoreModel = {\n  palette: defaultPaletteModel,\n  tool: defaultToolModel,\n  canvas: defaultCanvasModel\n};\n\nexport const store = createStore(storeModel);\n","import React from \"react\";\nimport { useDimensions } from \"./useDimensions\";\n\ninterface Props {\n  top: React.ReactElement;\n  left: React.ReactElement;\n  middle: React.ReactElement;\n  right: React.ReactElement;\n}\n\nexport const Layout: React.FC<Props> = ({ top, left, middle, right }) => {\n  const [ref, dimension] = useDimensions({ liveMeasure: false });\n  console.log(dimension);\n\n  return (\n    <>\n      <div\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          color: \"#ADADAD\"\n        }}\n      >\n        <div style={{ flex: 0, height: 48 }}>\n          <div\n            style={{\n              backgroundColor: \"#333333\",\n              width: \"100%\",\n              height: \"100%\"\n            }}\n          >\n            {top}\n          </div>\n        </div>\n        <div style={{ flex: 1, display: \"flex\" }}>\n          <div style={{ flex: 0, maxWidth: 64, minWidth: 64 }}>\n            <div\n              style={{\n                backgroundColor: \"#2A2D2E\",\n                width: \"100%\",\n                height: \"100%\",\n                boxShadow: \"rgba(0, 0, 0, 0.4) 0px 5px 10px -10px inset\"\n              }}\n            >\n              {left}\n            </div>\n          </div>\n          <div\n            style={{\n              flex: 1\n            }}\n          />\n          <div style={{ flex: 0, maxWidth: 48, minWidth: 48 }}>\n            <div\n              style={{\n                backgroundColor: \"#2A2D2E\",\n                width: \"100%\",\n                height: \"100%\",\n                boxShadow: \"rgba(0, 0, 0, 0.4) 0px 5px 10px -10px inset\"\n              }}\n            >\n              {right}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div\n        style={{\n          bottom: \"0px\",\n          left: \"64px\",\n          right: \"48px\",\n          top: \"48px\",\n          position: \"fixed\",\n          display: \"block\"\n        }}\n      >\n        <div\n          ref={ref}\n          style={{\n            backgroundColor: \"#1E1E1E\",\n            width: \"100%\",\n            height: \"100%\",\n            boxShadow: \"inset 0px 0px 5px 0px rgba(0, 0, 0, 0.4)\"\n          }}\n        >\n          {middle}\n        </div>\n      </div>\n    </>\n  );\n};","import { useState, useCallback, useLayoutEffect } from \"react\";\n\nexport interface DimensionObject {\n  width: number;\n  height: number;\n  top: number;\n  left: number;\n  x: number;\n  y: number;\n  right: number;\n  bottom: number;\n}\n\nexport type UseDimensionsHook = [\n  any,\n  DimensionObject,\n  HTMLElement\n];\n\nexport interface UseDimensionsArgs {\n  liveMeasure?: boolean;\n}\n\nfunction getDimensionObject(node: HTMLElement): DimensionObject {\n  const rect = node.getBoundingClientRect();\n\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: \"x\" in rect ? rect.x : rect.top,\n    left: \"y\" in rect ? rect.y : rect.left,\n    x: \"x\" in rect ? rect.x : rect.left,\n    y: \"y\" in rect ? rect.y : rect.top,\n    right: rect.right,\n    bottom: rect.bottom\n  };\n}\n\nexport function useDimensions({\n  liveMeasure = true\n}: UseDimensionsArgs = {}): UseDimensionsHook {\n  const [dimensions, setDimensions] = useState<DimensionObject>();\n  const [node, setNode] = useState();\n\n  const ref = useCallback(node => {\n    setNode(node);\n  }, []);\n\n  useLayoutEffect(() => {\n    if (node) {\n      const measure = () =>\n        window.requestAnimationFrame(() =>\n          setDimensions(getDimensionObject(node))\n        );\n      measure();\n\n      if (liveMeasure) {\n        window.addEventListener(\"resize\", measure);\n        window.addEventListener(\"scroll\", measure);\n\n        return () => {\n          window.removeEventListener(\"resize\", measure);\n          window.removeEventListener(\"scroll\", measure);\n        };\n      }\n    }\n  }, [node, liveMeasure]);\n\n  return [ref, dimensions!, node];\n}\n","import React from \"react\";\n\nexport const Logo: React.FC = () => {\n  return (\n    <div style={{ display: \"flex\", height: \"100%\", alignItems: \"center\" }}>\n      <h2 style={{ fontSize: \"1.5rem\", margin: 0 }}>Pixely</h2>\n    </div>\n  );\n};\n","import React from \"react\";\nimport \"./Menu.css\";\nimport { Logo } from \"./Logo\";\n\ninterface Props {}\n\nexport const Menu: React.FC<Props> = () => {\n  return (\n    <div\n      style={{\n        height: \"100%\",\n        display: \"inline-flex\",\n        alignItems: \"center\"\n      }}\n    >\n      <div className={\"Menu-items\"}>\n        <Logo />\n      </div>\n      <button className={\"Menu-items Menu-button\"}>File</button>\n      <button className={\"Menu-items Menu-button\"}>Edit</button>\n      <button className={\"Menu-items Menu-button\"}>Help</button>\n    </div>\n  );\n};\n","import React from \"react\";\n\nconst Icon: React.FC = () => {\n  return (\n    <svg\n      viewBox=\"0 0 18.713 18.713\"\n      width=\"32\"\n      height=\"32\"\n    >\n      <path\n        d=\"M13.367,6.434L8.872,1.895l-0.65-0.672L6.687,2.731c-2.624-0.375-4.51,0.59-5.178,1.777   C0.698,5.949,1.527,7.522,1.553,7.57c0.693,1.385,1.689,2.216,2.961,2.473c0.279,0.055,0.56,0.08,0.84,0.08   c1.322,0,2.644-0.561,3.649-1.135c0.271,0.188,0.601,0.299,0.954,0.299c0.93,0,1.686-0.759,1.686-1.691s-0.756-1.69-1.686-1.69   s-1.686,0.758-1.686,1.69c0,0.093,0.013,0.184,0.027,0.274C7.286,8.445,5.951,8.986,4.77,8.748C3.905,8.573,3.237,7.995,2.719,6.96   C2.714,6.95,2.203,5.957,2.654,5.157c0.38-0.676,1.371-1.111,2.883-1.275L5.302,4.119L3.13,6.299   c0.023,0.053,0.04,0.085,0.041,0.087c0.209,0.418,0.444,0.758,0.706,1.03l3.932-3.943c0.187-0.187,0.435-0.29,0.698-0.29   s0.513,0.103,0.698,0.29l4.771,4.787c0.385,0.385,0.385,1.014,0,1.399L7.774,15.88c-0.372,0.373-1.023,0.373-1.396,0l-4.772-4.787   c-0.187-0.186-0.289-0.434-0.289-0.699c0-0.264,0.102-0.514,0.289-0.7l0.515-0.518C1.828,8.874,1.568,8.512,1.335,8.098   l-0.66,0.663C0.24,9.197,0,9.777,0,10.394c0,0.617,0.24,1.197,0.675,1.633l4.772,4.787c0.435,0.436,1.012,0.676,1.628,0.676   c0.614,0,1.193-0.24,1.628-0.676l6.201-6.221L16.205,9.3l-0.361-0.365c0.683-0.373,0.987,2.744,0.987,2.744s0.954,7.439,1.802,0   C19.443,4.56,13.854,6.272,13.367,6.434z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport const FillTool: React.FC = () => {\n  return <Icon />;\n};\n","import React from \"react\";\n// import { useStoreActions, useStoreState } from \"easy-peasy\";\n// import { StoreModel } from \"../../store\";\n\nconst Icon: React.FC = () => {\n  return (\n    <svg\n      width=\"32\"\n      height=\"32\"\n      viewBox=\"0 0 1792 1792\"\n    >\n      <path\n        d=\"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport const PencilTool: React.FC = () => {\n  // const brushSize = useStoreState<StoreModel>(state => state.tool.brushSize);\n  // const increaseBrushSize = useStoreActions<StoreModel>(\n  //   actions => actions.tool.increaseBrushSize\n  // );\n  // const decreaseBrushSize = useStoreActions<StoreModel>(\n  //   actions => actions.tool.decreaseBrushSize\n  // );\n\n  // const handleIncreaseClick = () => {\n  //   increaseBrushSize(1);\n  // };\n  // const handleDecreaseClick = () => () => {\n  //   decreaseBrushSize(1);\n  // };\n\n  // // zoom\n  // const zoom = useStoreState<StoreModel>(state => state.canvas.zoom);\n  // const increaseZoom = useStoreActions<StoreModel>(\n  //   actions => actions.canvas.increaseZoom\n  // );\n  // const decreaseZoom = useStoreActions<StoreModel>(\n  //   actions => actions.canvas.decreaseZoom\n  // );\n\n  // const handleIncreaseZoomClick = () => {\n  //   increaseZoom(2);\n  // };\n  // const handleDecreaseZoomClick = () => {\n  //   decreaseZoom(2);\n  // };\n\n  return (\n    <Icon />\n    // <>\n    //   <div>\n    //     <span>Pencil Tool:&nbsp;</span>\n    //     <button onClick={handleIncreaseClick}>+</button>\n    //     <span>{brushSize}</span>\n    //     <button onClick={handleDecreaseClick}>-</button>\n    //   </div>\n\n    //   <div>\n    //     <span>Zoom Tool:&nbsp;</span>\n    //     <button onClick={handleIncreaseZoomClick}>+</button>\n    //     <span>{zoom}</span>\n    //     <button onClick={handleDecreaseZoomClick}>-</button>\n    //   </div>\n    // </>\n  );\n};\n","import React from \"react\";\n\nconst Icon: React.FC = () => {\n  return (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 1792 1792\">\n      <path\n        d=\"M1698 94q94 94 94 226.5t-94 225.5l-225 223 104 104q10 10 10 23t-10 23l-210 210q-10 10-23 10t-23-10l-105-105-603 603q-37 37-90 37h-203l-256 128-64-64 128-256v-203q0-53 37-90l603-603-105-105q-10-10-10-23t10-23l210-210q10-10 23-10t23 10l104 104 223-225q93-94 225.5-94t226.5 94zm-1186 1378l576-576-192-192-576 576v192h192z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport const EyeDropperTool: React.FC = () => {\n  return <Icon />;\n};\n","import React from \"react\";\n\nconst Icon: React.FC = () => {\n  return (\n    <svg width=\"32\" height=\"32\" viewBox=\"0 0 1792 1792\">\n      <path\n        d=\"M832 1408l336-384h-768l-336 384h768zm1013-1077q15 34 9.5 71.5t-30.5 65.5l-896 1024q-38 44-96 44h-768q-38 0-69.5-20.5t-47.5-54.5q-15-34-9.5-71.5t30.5-65.5l896-1024q38-44 96-44h768q38 0 69.5 20.5t47.5 54.5z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport const EraserTool: React.FC = () => {\n  return <Icon />;\n};\n","import React from \"react\";\nimport \"./Tools.css\";\nimport { FillTool } from \"./FillTool\";\nimport { PencilTool } from \"./PencilTool\";\nimport { EyeDropperTool } from \"./EyeDropperTool\";\nimport { EraserTool } from \"./EraserTool\";\n\nexport const Tools: React.FC = () => {\n  return (\n    <div\n      style={{\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n      }}\n    >\n      <button className={\"Tools-items Tools-button\"}>\n        <PencilTool />\n      </button>\n      <button className={\"Tools-items Tools-button\"}>\n        <EraserTool />\n      </button>\n      <button className={\"Tools-items Tools-button\"}>\n        <EyeDropperTool />\n      </button>\n      <button className={\"Tools-items Tools-button\"}>\n        <FillTool />\n      </button>\n    </div>\n  );\n};\n","import React from \"react\";\nimport \"./ColorPalette.css\";\nimport { useStoreState, useStoreActions } from \"easy-peasy\";\nimport { StoreModel } from \"../../store\";\n\nconst AddIcon: React.FC = () => {\n  return (\n    <svg width=\"30\" height=\"30\" viewBox=\"0 0 1792 1792\">\n      <path\n        d=\"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport const ColorPalette: React.FC = () => {\n  const colors = useStoreState<StoreModel, string[]>(\n    state => state.palette.colors\n  );\n\n  const selectColor = useStoreActions<StoreModel>(\n    actions => actions.palette.selectColor\n  );\n\n  const handleClick = (index: number) => () => {\n    selectColor(index);\n  };\n\n  return (\n    <div\n      style={{\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n      }}\n    >\n      {colors.map((color, i) => (\n        <button\n          key={i}\n          onClick={handleClick(i)}\n          className={\"ColorPalette-items ColorPalette-button\"}\n          style={{\n            backgroundColor: color,\n            flex: 1\n          }}\n        />\n      ))}\n\n      <button className={\"ColorPalette-items ColorPalette-button\"} style={{ minHeight: 48, maxHeight: 48, flex: 0 }}>\n        <AddIcon />\n      </button>\n    </div>\n  );\n};\n","import { Color } from \"csstype\";\n\nexport interface CanvasContext {\n  ctx: CanvasRenderingContext2D;\n  width: number;\n  height: number;\n  brushSize: number;\n}\n\nexport const clear = ({ ctx, width, height }: CanvasContext) => {\n  // ctx.clearRect(0, 0, width, height);\n  ctx.fillStyle = \"white\"; // TODO use clearRect\n  ctx.fillRect(0, 0, width, height);\n};\n\nexport const withinBound = (\n  { width, height }: CanvasContext,\n  { x, y }: { x: number; y: number }\n) => {\n  if (x < 0 || x >= width || y < 0 || y >= height) {\n    return false;\n  }\n  return true;\n};\n\nexport const setColor = (\n  canvasContext: CanvasContext,\n  { x, y, color }: { x: number; y: number; color: Color }\n) => {\n  const { ctx, brushSize } = canvasContext;\n  if (!withinBound(canvasContext, { x, y })) {\n    return;\n  }\n\n  // canvas logic to fill that rect\n  ctx.fillStyle = color;\n  ctx.fillRect(\n    x - Math.floor(brushSize / 2),\n    y - Math.floor(brushSize / 2),\n    brushSize,\n    brushSize\n  );\n};\n\nexport const line = (\n  canvasContext: CanvasContext,\n  {\n    x0,\n    y0,\n    x1,\n    y1,\n    color\n  }: {\n    x0: number;\n    y0: number;\n    x1: number;\n    y1: number;\n    color: string;\n  }\n) => {\n  const { ctx, width, height, brushSize } = canvasContext;\n  const xClamp = clamp({\n    min: 0,\n    max: width - 1\n  });\n  const yClamp = clamp({\n    min: 0,\n    max: height - 1\n  });\n\n  x0 = xClamp(x0);\n  y0 = yClamp(y0);\n  x1 = xClamp(x1);\n  y1 = yClamp(y1);\n\n  const dx = Math.abs(x1 - x0);\n  const dy = Math.abs(y1 - y0);\n  const sx = x0 < x1 ? 1 : -1;\n  const sy = y0 < y1 ? 1 : -1;\n  let err = dx - dy;\n\n  while (true) {\n    //set pixel\n    ctx.fillStyle = color;\n    ctx.fillRect(\n      x0 - Math.floor(brushSize / 2),\n      y0 - Math.floor(brushSize / 2),\n      brushSize,\n      brushSize\n    );\n\n    //if we've reached the end goal, exit the loop\n    if (x0 === x1 && y0 === y1) {\n      break;\n    }\n    const e2 = 2 * err;\n    if (e2 > -dy) {\n      err -= dy;\n      x0 += sx;\n    }\n    if (e2 < dx) {\n      err += dx;\n      y0 += sy;\n    }\n  }\n};\n\nconst clamp = ({ min, max }: { min: number; max: number }) => (\n  value: number\n) => {\n  return Math.min(Math.max(value, min), max);\n};\n","import React from \"react\";\nimport { ReactEventHandlers } from \"react-use-gesture/events\";\nimport \"./Canvas.css\";\nimport {animated} from 'react-spring'\n\ninterface Props {\n  width: number;\n  height: number;\n  animatedProps: React.CSSProperties;\n  canvasRefCallback: (instance: HTMLCanvasElement) => void; // TODO nullable\n  bindGesture: (...args: any[]) => ReactEventHandlers; // TODO nullable\n}\n\nconst _PureCanvas: React.FC<Props> = ({\n  width,\n  height,\n  animatedProps,\n  canvasRefCallback,\n  bindGesture\n}) => {\n  return (\n    <animated.canvas\n      {...bindGesture()}\n      ref={canvasRefCallback}\n      width={width}\n      height={height}\n      className={\"Canvas-pixelated\"}\n      style={animatedProps}\n    />\n  );\n};\n\nexport const PureCanvas = React.memo(_PureCanvas);\n","import React, { useRef, useEffect, useCallback } from \"react\";\nimport { CanvasContext, clear, line, withinBound } from \"./canvas-fns\";\nimport { useStoreState } from \"easy-peasy\";\nimport { StoreModel } from \"../../store\";\nimport { PureCanvas } from \"./PureCanvas\";\nimport { useGesture } from \"react-use-gesture\";\nimport { useSpring } from \"react-spring\";\n\ntype Props = {};\n\nexport const PixelCanvas: React.FC<Props> = () => {\n  const selectedColor = useStoreState<StoreModel>(\n    state => state.palette.selectedColor\n  );\n  const brushSize = useStoreState<StoreModel>(state => state.tool.brushSize);\n  const zoom = useStoreState<StoreModel>(state => state.canvas.zoom);\n  const width = useStoreState<StoreModel>(state => state.canvas.width);\n  const height = useStoreState<StoreModel>(state => state.canvas.height);\n\n  const getCanvasContext = (): CanvasContext => {\n    return Object.freeze({\n      ctx: canvasRef.current!.getContext(\"2d\")!,\n      width,\n      height,\n      brushSize\n    } as CanvasContext);\n  };\n\n  // canvas setup\n  useEffect(() => {\n    const canvasContext = getCanvasContext();\n    canvasContext.ctx.imageSmoothingEnabled = true;\n\n    clear(canvasContext);\n\n    // eslint-disable-next-line\n  }, []);\n\n  // canvas ref callback\n  const canvasRef = useRef<HTMLCanvasElement>();\n  const canvasRefCallback = useCallback(node => {\n    if (node !== null) {\n      canvasRef.current = node;\n    }\n  }, []);\n\n  // gesture for canvas\n  const bindGesture = useGesture({\n    onDrag: state => {\n      const [x0, y0] = state.previous;\n      const [x1, y1] = state.xy;\n      const canvas = canvasRef.current!;\n\n      const rectX0 = Math.floor(\n        (x0 - canvas.offsetLeft - canvas.scrollLeft) / zoom\n      );\n      const rectY0 = Math.floor(\n        (y0 - canvas.offsetTop - canvas.scrollTop) / zoom\n      );\n      const rectX1 = Math.floor(\n        (x1 - canvas.offsetLeft - canvas.scrollLeft) / zoom\n      );\n      const rectY1 = Math.floor(\n        (y1 - canvas.offsetTop - canvas.scrollTop) / zoom\n      );\n\n      // ignore if previous pos out of bound\n      if (!withinBound(getCanvasContext(), { x: rectX0, y: rectY0 })) {\n        return;\n      }\n\n      line(getCanvasContext(), {\n        x0: rectX0,\n        y0: rectY0,\n        x1: rectX1,\n        y1: rectY1,\n        color: selectedColor\n      });\n    }\n  });\n\n  // animation\n  const [animatedProps, setAnimatedProps] = useSpring(() => {\n    return {\n      width: zoom * width,\n      height: zoom * height\n    };\n  });\n  useEffect(() => {\n    setAnimatedProps({\n      width: zoom * width,\n      height: zoom * height\n    });\n  }, [width, height, zoom, setAnimatedProps]);\n\n  return (\n    <PureCanvas\n      canvasRefCallback={canvasRefCallback}\n      width={width}\n      height={height}\n      bindGesture={bindGesture}\n      animatedProps={animatedProps}\n    />\n    // Background Canvas\n  );\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./app\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from \"react\";\nimport \"./App.css\";\nimport { StoreProvider } from \"easy-peasy\";\nimport { store } from \"./../store\";\nimport { Layout } from \"../layout\";\nimport { Menu } from \"../components/menu\";\nimport { Tools } from \"../components/tool\";\nimport { ColorPalette } from \"../components/color-palette\";\nimport { PixelCanvas } from \"../components/pixel-canvas\";\n\nexport const App: React.FC = () => {\n  return (\n    <StoreProvider store={store as any}>\n      <Layout\n        top={\n          <Menu />\n        }\n        left={\n          <Tools />\n        }\n        middle={\n          <PixelCanvas />\n        }\n        right={\n          <ColorPalette />\n        }\n      />\n      {/* <div className=\"App\">\n        <header className=\"App-header\">\n          <ColorPalette />\n          <PencilTool />\n          <PixelCanvas />\n        </header>\n      </div> */}\n    </StoreProvider>\n  );\n};\n"],"sourceRoot":""}