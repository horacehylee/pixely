(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){e.exports=n(33)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(19),r=n.n(o),i=(n(28),n(29),n(11)),l=function(e,t){var n=e.width,a=e.height,c=t.x,o=t.y;return!(c<0||c>=n||o<0||o>=a)},u=function(e){var t=e.min,n=e.max;return function(e){return Math.min(Math.max(e,t),n)}},f=n(2),s=(n(30),n(15)),h=c.a.memo(function(e){var t=e.width,n=e.height,a=e.animatedProps,o=e.canvasRefCallback,r=e.bindGesture;return c.a.createElement(s.a.canvas,Object.assign({},r(),{ref:o,width:t,height:n,className:"Canvas-pixelated",style:a}))}),m=n(22),b=function(){var e=Object(f.f)(function(e){return e.palette.selectedColor}),t=Object(f.f)(function(e){return e.tool.brushSize}),n=Object(f.f)(function(e){return e.canvas.zoom}),o=Object(f.f)(function(e){return e.canvas.width}),r=Object(f.f)(function(e){return e.canvas.height}),b=function(){return Object.freeze({ctx:d.current.getContext("2d"),width:o,height:r,brushSize:t})};Object(a.useEffect)(function(){var e=b();e.ctx.imageSmoothingEnabled=!0,function(e){var t=e.ctx,n=e.width,a=e.height;t.fillStyle="white",t.fillRect(0,0,n,a)}(e)},[]);var d=Object(a.useRef)(),v=Object(a.useCallback)(function(e){null!==e&&(d.current=e)},[]),p=Object(m.a)({onDrag:function(t){var a=Object(i.a)(t.previous,2),c=a[0],o=a[1],r=Object(i.a)(t.xy,2),f=r[0],s=r[1],h=d.current,m=Math.floor((c-h.offsetLeft-h.scrollLeft)/n),v=Math.floor((o-h.offsetTop-h.scrollTop)/n),p=Math.floor((f-h.offsetLeft-h.scrollLeft)/n),j=Math.floor((s-h.offsetTop-h.scrollTop)/n);l(b(),{x:m,y:v})&&function(e,t){var n=t.x0,a=t.y0,c=t.x1,o=t.y1,r=t.color,i=e.ctx,l=e.width,f=e.height,s=e.brushSize,h=u({min:0,max:l-1}),m=u({min:0,max:f-1});n=h(n),a=m(a),c=h(c),o=m(o);for(var b=Math.abs(c-n),d=Math.abs(o-a),v=n<c?1:-1,p=a<o?1:-1,j=b-d;i.fillStyle=r,i.fillRect(n-Math.floor(s/2),a-Math.floor(s/2),s,s),n!==c||a!==o;){var O=2*j;O>-d&&(j-=d,n+=v),O<b&&(j+=b,a+=p)}}(b(),{x0:m,y0:v,x1:p,y1:j,color:e})}}),j=Object(s.b)(function(){return{width:n*o,height:n*r}}),O=Object(i.a)(j,2),E=O[0],g=O[1];return Object(a.useEffect)(function(){g({width:n*o,height:n*r})},[o,r,n,g]),c.a.createElement(h,{canvasRefCallback:v,width:o,height:r,bindGesture:p,animatedProps:E})},d=function(){var e=Object(f.f)(function(e){return e.palette.colors}),t=Object(f.e)(function(e){return e.palette.selectColor});return c.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"}},e.map(function(e,n){return c.a.createElement("button",{key:n,onClick:(a=n,function(){t(a)})},c.a.createElement("div",{style:{backgroundColor:e,padding:"1em"}},e));var a}))},v=function(){var e=Object(f.f)(function(e){return e.tool.brushSize}),t=Object(f.e)(function(e){return e.tool.increaseBrushSize}),n=Object(f.e)(function(e){return e.tool.decreaseBrushSize}),a=Object(f.f)(function(e){return e.canvas.zoom}),o=Object(f.e)(function(e){return e.canvas.increaseZoom}),r=Object(f.e)(function(e){return e.canvas.decreaseZoom});return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("span",null,"Pencil Tool:\xa0"),c.a.createElement("button",{onClick:function(){t(1)}},"+"),c.a.createElement("span",null,e),c.a.createElement("button",{onClick:function(){return function(){n(1)}}},"-")),c.a.createElement("div",null,c.a.createElement("span",null,"Zoom Tool:\xa0"),c.a.createElement("button",{onClick:function(){o(2)}},"+"),c.a.createElement("span",null,a),c.a.createElement("button",{onClick:function(){r(2)}},"-")))},p=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(d,null),c.a.createElement(v,null),c.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j={palette:{selectedIndex:0,colors:["#1a1c2c","#5d275d","#b13e53","#ef7d57","#ffcd75","#a7f070","#38b764","#257179","#29366f","#3b5dc9","#41a6f6","#73eff7","#f4f4f4","#94b0c2","#566c86","#333c57"],selectColor:Object(f.b)(function(e,t){e.selectedIndex=t}),selectedColor:Object(f.c)(function(e){return e.colors[e.selectedIndex]})},tool:{selected:"pencil",brushSize:1,increaseBrushSize:Object(f.b)(function(e,t){e.brushSize=Math.max(1,e.brushSize+t)}),decreaseBrushSize:Object(f.b)(function(e,t){e.brushSize=Math.max(1,e.brushSize-t)})},canvas:{width:20,height:20,zoom:30,increaseZoom:Object(f.b)(function(e,t){e.zoom=Math.min(100,e.zoom+t)}),decreaseZoom:Object(f.b)(function(e,t){if(e.zoom-t<=0)return e;e.zoom-=t})}},O=Object(f.d)(j);r.a.render(c.a.createElement(f.a,{store:O},c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.5ddd3ce6.chunk.js.map